# 实施计划

## MVP 阶段 1：基础架构和核心功能

- [x] 1. 搭建项目基础架构





  - 创建前后端项目目录结构
  - 配置 FastAPI 后端项目（requirements.txt, main.py）
  - 配置 React 前端项目（package.json, 基础组件结构）
  - 设置开发环境配置文件
  - _需求：9.1, 9.6, 9.7_

- [ ]* 1.1 编写项目设置的单元测试
  - 测试 FastAPI 应用启动
  - 测试 React 应用渲染
  - _需求：9.1, 9.6_

- [x] 2. 实现基础地图显示功能





  - 集成 Leaflet 地图库到 React 应用
  - 实现 MapComponent 组件，支持基础地图显示
  - 集成 OpenStreetMap 作为默认地图服务
  - 实现地图平移、缩放等基础交互
  - _需求：8.1, 8.2, 8.2.1_

- [x] 2.1 实现 AOI 绘制功能


  - 集成 Leaflet.draw 插件
  - 实现多边形绘制工具
  - 实现绘制完成后的 GeoJSON 输出
  - 在地图上显示绘制的 AOI 边界
  - _需求：2.1, 2.5_

- [ ] 2.2 编写 AOI 绘制的属性测试




  - **属性 6: AOI 格式标准化**
  - **验证：需求 2.4**

- [x] 3. 实现 AOI 处理后端服务





  - 创建 AOI 数据模型（GeoJSON, DateRange）
  - 实现 POST /api/aoi/validate 端点
  - 实现 GeoJSON 几何验证逻辑
  - 实现面积和边界计算
  - _需求：2.3, 2.4_


- [x] 3.1 实现 GeoJSON 文件上传

  - 实现 POST /api/aoi/upload 端点
  - 解析上传的 GeoJSON 文件
  - 验证几何有效性
  - 返回标准化的 GeoJSON
  - _需求：2.3, 2.4_

- [ ]* 3.2 编写 GeoJSON 处理的属性测试
  - **属性 7: GeoJSON 解析往返一致性**
  - **验证：需求 2.3**

- [x] 4. 实现 STAC 数据查询服务





  - 安装和配置 pystac-client
  - 创建 STACQueryService 类
  - 实现 Sentinel-2 数据查询方法
  - 连接到 AWS Earth Search STAC API
  - _需求：1.2, 1.5, 1.6_


- [x] 4.1 实现查询 API 端点

  - 创建 SatelliteQuery 数据模型
  - 实现 POST /api/query 端点
  - 集成 STAC 查询服务
  - 实现基于 AOI 和时间范围的过滤
  - 实现云量过滤（Sentinel-2）
  - 返回查询结果（影像列表和元数据）
  - _需求：3.1, 3.3, 3.4, 3.7, 3.8_

- [ ]* 4.2 编写数据查询的属性测试
  - **属性 1: 卫星类型过滤一致性**
  - **验证：需求 3.1**

- [ ]* 4.3 编写云量过滤的属性测试
  - **属性 2: 云量过滤有效性**
  - **验证：需求 3.4**

- [ ]* 4.4 编写时间范围过滤的属性测试
  - **属性 3: 时间范围过滤正确性**
  - **验证：需求 3.3**

- [ ]* 4.5 编写空间交集的属性测试
  - **属性 4: 空间交集验证**
  - **验证：需求 3.8**

- [x] 5. 实现前端数据查询界面





  - 创建 DataQueryPanel 组件
  - 实现卫星类型选择（初期只支持 Sentinel-2）
  - 实现日期范围选择器
  - 实现云量阈值滑块
  - 实现查询提交按钮和加载状态
  - _需求：3.1, 3.2, 3.3, 3.4_

- [x] 5.1 实现查询结果展示


  - 创建 ResultsPanel 组件
  - 显示查询结果列表（影像缩略图、日期、云量）
  - 实现结果分页
  - 实现结果排序（按日期）
  - _需求：3.7_

- [ ]* 5.2 编写前端组件的单元测试
  - 测试 DataQueryPanel 渲染
  - 测试 ResultsPanel 显示结果
  - 测试用户交互
  - _需求：3.1, 3.7_

- [x] 6. 检查点 - 确保所有测试通过












  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 2：植被指数计算

- [x] 7. 实现栅格数据处理基础





  - 安装 GDAL、rasterio、rioxarray
  - 创建 RasterProcessor 类
  - 实现从 S3 URL 读取 COG 数据
  - 实现 AOI 裁剪功能（clip_to_aoi）
  - _需求：4.1, 9.2, 9.3_

- [ ]* 7.1 编写 AOI 裁剪的属性测试
  - **属性 9: AOI 裁剪边界正确性**
  - **验证：需求 4.1**

- [x] 7.2 实现 COG 格式输出


  - 实现 to_cog 方法
  - 配置 COG 压缩和瓦片参数
  - 验证输出文件格式
  - _需求：4.3_

- [ ]* 7.3 编写 COG 输出的属性测试
  - **属性 11: COG 格式输出一致性**
  - **验证：需求 4.3**

- [x] 8. 实现植被指数计算器





  - 创建 VegetationIndexCalculator 类
  - 实现 NDVI 计算方法
  - 实现 SAVI 计算方法
  - 实现 EVI 计算方法
  - 实现 VGI 计算方法
  - _需求：5.2, 5.3, 5.4, 5.6_

- [ ]* 8.1 编写 NDVI 计算的属性测试
  - **属性 12: NDVI 计算公式正确性**
  - **验证：需求 5.2**

- [ ]* 8.2 编写 SAVI 计算的属性测试
  - **属性 13: SAVI 计算公式正确性**
  - **验证：需求 5.3**

- [ ]* 8.3 编写 EVI 计算的属性测试
  - **属性 14: EVI 计算公式正确性**
  - **验证：需求 5.4**

- [ ]* 8.4 编写 VGI 计算的属性测试
  - **属性 15: VGI 计算公式正确性**
  - **验证：需求 5.6**

- [x] 9. 实现植被指数计算 API





  - 创建 VegetationIndex 数据模型
  - 实现 POST /api/process/indices 端点
  - 集成栅格处理器和指数计算器
  - 实现异步任务处理（使用 BackgroundTasks）
  - 返回任务 ID 和状态
  - _需求：5.1, 5.8, 5.9_

- [x] 9.1 实现任务状态查询


  - 创建 ProcessingTask 数据模型
  - 实现 GET /api/tasks/{task_id} 端点
  - 实现任务状态跟踪（queued, processing, completed, failed）
  - 返回处理进度和结果 URL
  - _需求：4.5_

- [ ]* 9.2 编写批量指数计算的属性测试
  - **属性 17: 批量指数计算完整性**
  - **验证：需求 5.8**

- [x] 10. 实现前端植被指数处理界面





  - 创建 ProcessingConfigPanel 组件
  - 实现植被指数多选框（NDVI, SAVI, EVI, VGI）
  - 实现处理提交按钮
  - 显示任务进度条
  - _需求：5.1, 5.7, 5.8_

- [x] 10.1 实现结果下载功能


  - 在 ResultsPanel 中添加下载按钮
  - 实现文件下载逻辑
  - 显示文件大小和格式信息
  - _需求：4.1, 4.3_

- [ ]* 10.2 编写处理界面的单元测试
  - 测试 ProcessingConfigPanel 渲染
  - 测试指数选择交互
  - 测试任务状态更新
  - _需求：5.1, 5.8_

- [x] 11. 检查点 - 确保所有测试通过





  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 3：AWS Batch 集成和云部署

**架构说明**：本阶段采用简化的部署方式，使用 CDK 的 `ContainerImage.fromAsset` 直接从源代码构建 Docker 镜像。CDK 会自动创建 ECR 仓库、构建镜像并推送，无需单独的 CI/CD 流水线。前端使用 AWS Amplify 托管，提供自动构建和部署。部署命令：`cdk deploy --all` 或 `./scripts/deploy-all.sh dev`。

- [x] 12. 初始化 CDK 项目
  - 创建 infrastructure/ 目录
  - 初始化 CDK TypeScript 项目
  - 配置 cdk.json 和 tsconfig.json
  - 创建环境配置文件（dev, staging, prod）
  - 安装必要的 CDK 依赖包
  - _需求：10.11, 10.12_

- [x] 12.1 创建 Network Stack
  - 定义 VPC 和子网配置
  - 创建安全组（Batch, API, Database）
  - 配置 NAT Gateway
  - 实现 NetworkStack 类
  - _需求：9.8, 10.11_

- [x] 13. 创建 Storage Stack
  - 定义 S3 存储桶配置
  - 配置生命周期规则（30天过期）
  - 配置 CORS 策略
  - 实现 StorageStack 类
  - _需求：10.3, 10.9, 10.11_

- [x] 13.1 创建 Database Stack
  - 定义 DynamoDB 表配置
  - 配置表的主键和 GSI
  - 配置 TTL 自动清理
  - 实现 DatabaseStack 类
  - _需求：9.10, 10.4, 10.11_

- [x] 14. 创建 Batch Stack
  - 定义 Batch 计算环境（Spot 实例）
  - 创建任务队列
  - 定义任务定义（Job Definition）
  - 创建 ECR 仓库
  - 配置 IAM 角色和策略
  - 实现 BatchStack 类
  - _需求：10.1, 10.2, 10.6, 10.7, 10.10, 10.11_

- [x] 14.1 创建 API Stack
  - 定义 ECS/Fargate 服务
  - 配置 Application Load Balancer
  - 创建 ECR 仓库（API）
  - 配置环境变量和密钥
  - 实现 ApiStack 类
  - _需求：9.8, 10.11_

- [x] 15. 创建 Frontend Stack（使用 AWS Amplify）
  - 创建 Amplify App 和 Branch
  - 配置自动构建和部署
  - 配置环境变量（API_URL, ENVIRONMENT）
  - 配置自定义域名（可选）
  - 实现 FrontendStack 类（使用 Amplify）
  - _需求：9.8, 10.11_
  - _注：使用 AWS Amplify 替代 S3 + CloudFront，提供自动构建和部署_

- [x] 15.1 创建 Monitoring Stack
  - 定义 CloudWatch 仪表板
  - 配置告警规则
  - 配置 SNS 通知主题
  - 实现 MonitoringStack 类
  - _需求：10.7, 10.8, 10.11_

- [x] 15.2 实现 AWS Batch 集成代码
  - 创建 BatchJobManager 类
  - 实现任务提交方法（submit_job）
  - 实现任务状态查询方法（get_job_status）
  - 实现任务取消方法（cancel_job）
  - 配置重试策略和超时设置
  - _需求：10.1, 10.2, 10.6, 10.7_

- [x] 15.3 实现数据库访问层
  - 创建 TaskRepository 类
  - 实现 CRUD 操作（create, read, update, delete）
  - 实现任务列表查询（带过滤和分页）
  - 实现事务处理
  - 添加数据库连接错误处理
  - _需求：10.4, 10.5_

- [x] 15.4 更新 API 端点适配 Batch 架构
  - 修改 POST /api/process/indices 提交到 Batch
  - 修改 GET /api/process/tasks/{task_id} 返回 Batch 状态
  - 实现 GET /api/process/tasks 列表查询
  - 实现 DELETE /api/process/tasks/{task_id} 取消任务
  - 添加 S3 预签名 URL 生成
  - _需求：10.1, 10.4, 10.5_

- [x] 15.5 创建 Batch 处理容器代码
  - 编写 Dockerfile.batch
  - 安装 GDAL 和 geospatial 依赖
  - 创建 batch_processor.py 入口脚本
  - 实现从环境变量读取任务参数
  - 实现结果上传到 S3
  - 更新任务状态到数据库
  - _需求：10.2, 10.3_

- [x] 15.6 创建 API Dockerfile
  - 编写 Dockerfile（API 服务）
  - 配置 FastAPI 应用启动
  - 设置环境变量
  - 优化镜像大小
  - _需求：9.8_

- [x] 16. 部署基础设施
  - 运行 cdk bootstrap
  - 部署到开发环境（使用 ContainerImage.fromAsset 从源代码构建）
  - CDK 自动构建 Docker 镜像、创建 ECR 仓库并推送镜像
  - 验证所有资源创建成功
  - 记录输出值（端点、ARN 等）
  - _需求：10.11, 10.12_
  - _注：采用简化部署方式，无需单独的 CI/CD 流水线_

- [x] 16.1 验证数据库配置
  - 验证 DynamoDB 表创建成功
  - 验证主键和 GSI 配置
  - 验证 TTL 配置
  - 测试基本的读写操作
  - _需求：9.10, 10.4_

- [x] 17. 完成剩余 Stack 部署
  - 部署 Frontend Stack
  - 部署 Monitoring Stack
  - 验证所有 Stack 创建成功
  - 记录所有输出值
  - _需求：9.8, 10.11_

- [ ] 18. 实现任务状态同步
  - 创建后台任务定期同步 Batch 状态
  - 实现 Batch 状态到任务状态的映射
  - 处理任务完成和失败事件
  - 实现任务重试逻辑
  - _需求：10.4, 10.6_

- [ ] 18.1 实现通知机制（可选）
  - 配置 SNS 主题
  - 实现任务完成通知
  - 实现任务失败通知
  - 添加邮件或 Webhook 通知
  - _需求：10.8_

- [x] 19. 更新前端界面（连接 Amplify）
  - 连接前端代码仓库到 Amplify（通过 Console 或 CLI）
  - 配置 Amplify 自动构建触发
  - 修改 ProcessingConfigPanel 显示 Batch 任务状态
  - 实现任务进度轮询
  - 显示 Batch Job ID 和详细状态
  - 实现从 S3 下载结果
  - 添加任务取消按钮
  - _需求：10.5_
  - _注：Amplify 需要连接代码仓库或手动部署前端代码_

- [x] 19.1 编写前端组件的单元测试
  - 测试任务状态显示
  - 测试进度轮询
  - 测试下载功能
  - _需求：10.5_

- [x] 20. 实现资源清理








  - 创建定期清理任务
  - 清理过期的任务记录（> 30 天）
  - 清理 S3 中的过期文件
  - 清理 CloudWatch 日志
  - _需求：10.9_

- [x] 20.1 编写清理任务的单元测试


  - 测试任务记录清理
  - 测试 S3 文件清理
  - 测试清理策略
  - _需求：10.9_

- [ ] 21. 部署到 AWS
  - 使用 `cdk deploy --all` 或 `./scripts/deploy-all.sh dev` 部署所有 7 个 stacks
  - CDK 自动从源代码构建 Docker 镜像并推送到 ECR
  - 配置 ALB 和域名
  - 连接前端代码仓库到 Amplify 或手动部署前端
  - 配置环境变量和密钥
  - _需求：9.8, 9.9_
  - _注：Stack 列表 - Network, Storage, Database, Batch, API, Frontend (Amplify), Monitoring_

- [ ] 21.1 配置监控和告警
  - 设置 CloudWatch 仪表板
  - 配置任务失败告警
  - 配置资源使用告警
  - 设置日志保留策略
  - _需求：10.7_

- [ ] 22. 性能测试和优化
  - 测试不同大小数据集的处理时间
  - 优化 Batch 实例类型选择
  - 测试 Spot 实例的成本节省
  - 优化数据库查询性能
  - 测试并发任务处理能力
  - _需求：9.5, 10.10_

- [ ] 22.1 编写性能测试
  - 测试小任务处理时间（< 1 分钟）
  - 测试中等任务处理时间（1-5 分钟）
  - 测试大任务处理时间（5-15 分钟）
  - 测试并发任务处理
  - _需求：9.5_

- [ ] 23. 检查点 - 确保所有测试通过
  - 确保所有单元测试通过
  - 确保所有集成测试通过
  - 验证 AWS 部署正常工作
  - 验证成本优化（Spot 实例）
  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 4：多卫星支持和时间合成

- [x] 24. 扩展 STAC 查询支持更多卫星





  - 实现 Sentinel-1 查询方法（GRD 和 RTC 产品）
  - 实现 Landsat 8 查询方法（Collection 2）
  - 实现 MODIS 查询方法（Terra 和 Aqua）
  - 更新查询 API 支持多种卫星类型
  - _需求：1.1, 1.3, 1.4_

- [x] 24.1 更新前端查询界面


  - 在 DataQueryPanel 中添加卫星类型选择
  - 根据卫星类型动态显示产品级别选项
  - 更新云量过滤逻辑（适配不同卫星）
  - _需求：3.1, 3.2, 3.5, 3.6_

- [ ]* 24.2 编写多卫星查询的单元测试
  - 测试 Sentinel-1 查询
  - 测试 Landsat 8 查询
  - 测试 MODIS 查询
  - _需求：1.1, 1.3, 1.4_

- [x] 25. 实现时间合成处理器



  - 安装和配置 xarray 和 Dask
  - 创建 TemporalCompositor 类
  - 实现月度合成方法（composite_monthly）
  - 实现均值聚合方法（_aggregate_mean）
  - _需求：7.1, 7.2, 9.4, 9.5_

- [x] 25.1 实现云掩膜应用




  - 在 RasterProcessor 中实现 apply_cloud_mask 方法
  - 支持 Sentinel-2 和 Landsat 8 的质量波段
  - 在时间合成前应用掩膜
  - _需求：7.3_

- [ ]* 25.2 编写时间合成的属性测试
  - **属性 18: 时间合成均值计算**
  - **验证：需求 7.2**

- [ ]* 25.3 编写云掩膜的属性测试
  - **属性 21: 光学数据云掩膜应用**
  - **验证：需求 7.3**

- [x] 26. 实现时间合成 API




  - 实现 POST /api/process/composite 端点
  - 集成时间合成处理器
  - 实现异步任务处理
  - 支持月度合成周期
  - _需求：7.1, 7.4, 7.5, 7.6_

- [ ]* 26.1 编写合成周期输出的属性测试
  - **属性 20: 合成周期输出数量**
  - **验证：需求 7.5**

- [x] 27. 实现前端时间合成界面


  - 在 ProcessingConfigPanel 中添加合成模式选择
  - 实现合成周期选择（月度）
  - 实现云掩膜开关
  - 显示合成任务进度
  - _需求：7.1, 7.7_

- [ ]* 27.1 编写时间合成界面的单元测试
  - 测试合成配置界面
  - 测试参数提交
  - _需求：7.1, 7.7_

- [ ] 28. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 5：中国地图服务集成

- [ ] 29. 实现坐标系转换服务
  - 安装 pyproj
  - 创建 CoordinateTransformer 类
  - 实现 WGS84 到 GCJ02 转换
  - 实现 WGS84 到 BD09 转换
  - 实现反向转换
  - _需求：8.1.8_

- [ ] 29.1 实现坐标转换 API
  - 实现 POST /api/coordinates/transform 端点
  - 支持批量坐标转换
  - 返回转换后的坐标
  - _需求：8.1.8_

- [ ]* 29.2 编写坐标转换的属性测试
  - **属性 22: 坐标系转换往返一致性**
  - **验证：需求 8.1.8**

- [ ] 30. 集成中国地图服务
  - 安装 leaflet.chinatmsproviders 插件
  - 创建 MapProvider 配置模型
  - 在 MapComponent 中集成高德地图
  - 在 MapComponent 中集成天地图
  - 实现地图服务切换功能
  - _需求：8.1.1, 8.1.2, 8.1.3, 8.1.6_

- [ ] 30.1 实现地图服务自动选择
  - 实现用户位置检测
  - 根据位置自动选择地图服务（中国境内用高德，境外用 OSM）
  - 实现地图服务降级逻辑
  - _需求：8.1.7, 8.7, 8.8_

- [ ]* 30.2 编写地图服务切换的属性测试
  - **属性 23: 地图服务切换状态保持**
  - **验证：需求 8.1.6**

- [ ] 31. 实现地图交互增强功能
  - 集成 Leaflet.measure 插件
  - 实现距离测量工具
  - 实现面积测量工具
  - 实现图层管理面板
  - _需求：8.2.2, 8.2.3_

- [ ]* 31.1 编写地图交互的属性测试
  - **属性 24: 图层可见性控制**
  - **验证：需求 8.2.2**
  - **属性 25: 几何测量准确性**
  - **验证：需求 8.2.3**

- [ ] 32. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 6：源代码透明性和 UI 优化

- [ ] 33. 实现源代码查看功能
  - 创建 CodeViewerPanel 组件
  - 集成 Prism.js 代码高亮
  - 实现植被指数公式展示
  - 实现后端代码片段展示
  - 添加公式的 LaTeX 渲染（使用 KaTeX）
  - _需求：6.1, 6.2, 6.4_

- [ ] 33.1 创建算法文档
  - 编写植被指数计算文档
  - 编写时间合成算法文档
  - 编写坐标转换说明文档
  - 在前端提供文档访问入口
  - _需求：6.3_

- [ ]* 33.2 编写代码查看功能的单元测试
  - 测试 CodeViewerPanel 渲染
  - 测试代码高亮显示
  - _需求：6.1, 6.2_

- [ ] 34. 实现现代简约 UI 设计
  - 选择并集成 UI 组件库（Ant Design 或 Material-UI）
  - 设计统一的配色方案（简约风格）
  - 实现响应式布局
  - 优化组件间距和排版
  - 添加平滑的过渡动画
  - _需求：8.3.6_

- [ ] 34.1 实现错误处理和用户反馈
  - 创建统一的错误提示组件
  - 实现加载状态指示器
  - 实现成功/失败消息提示
  - 添加表单验证提示
  - _需求：8.3.5_

- [ ]* 34.2 编写 UI 组件的单元测试
  - 测试错误提示显示
  - 测试加载状态
  - 测试响应式布局
  - _需求：8.3.5_

- [ ] 35. 实现 Shapefile 上传支持
  - 安装 fiona 和 shapely
  - 实现 Shapefile 解析（支持 .zip 上传）
  - 更新 POST /api/aoi/upload 端点
  - 在前端添加文件上传组件（react-dropzone）
  - _需求：2.2_

- [ ]* 35.1 编写 Shapefile 处理的属性测试
  - **属性 8: Shapefile 解析有效性**
  - **验证：需求 2.2**

- [ ] 36. 实现批量下载功能
  - 在 ResultsPanel 中添加批量选择功能
  - 实现批量下载 API 端点
  - 实现下载进度跟踪
  - 支持打包下载（ZIP）
  - _需求：4.2, 4.5_

- [ ]* 36.1 编写批量下载的单元测试
  - 测试批量选择逻辑
  - 测试下载任务创建
  - _需求：4.2_

- [ ] 37. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

## MVP 阶段 7：部署和文档

- [ ] 38. 配置 Docker 容器化
  - 创建后端 Dockerfile
  - 创建前端 Dockerfile
  - 创建 docker-compose.yml
  - 配置环境变量
  - 测试容器化部署
  - _需求：9.1, 9.6_

- [ ] 39. 编写部署文档
  - 创建 README.md（项目介绍和快速开始）
  - 创建 INSTALL.md（详细安装说明）
  - 创建 API.md（API 文档）
  - 创建 USER_GUIDE.md（用户使用指南）
  - _需求：6.3_

- [ ] 40. 性能优化
  - 实现 API 响应缓存（Redis，可选）
  - 优化前端资源加载（代码分割）
  - 实现图片懒加载
  - 优化栅格处理性能（Dask 配置）
  - _需求：9.5_

- [ ]* 40.1 编写性能测试
  - 测试 API 响应时间
  - 测试并发请求处理
  - 测试大型数据集处理
  - _需求：9.5_

- [ ] 41. 最终检查点 - 完整系统测试
  - 运行所有单元测试和属性测试
  - 执行端到端集成测试
  - 验证所有核心功能
  - 修复发现的问题
  - 确保所有测试通过，如有问题请询问用户

## 可选增强功能（后续迭代）

- [ ]* 42. 实现 10 天和季度合成
  - 实现 composite_10day 方法
  - 实现 composite_seasonal 方法
  - 更新前端合成周期选择
  - _需求：7.1_

- [ ]* 43. 实现 PVI 植被指数
  - 实现 calculate_pvi 方法
  - 提供参数配置界面
  - 添加参数来源文档
  - _需求：5.5_

- [ ]* 44. 集成百度地图和 Mapbox
  - 申请百度地图 API Key
  - 集成百度地图 SDK
  - 集成 Mapbox GL JS
  - 更新地图服务切换逻辑
  - _需求：8.1.1, 8.1.5_

- [ ]* 45. 实现地图打印和截图
  - 集成 leaflet-easyprint 插件
  - 实现地图打印功能
  - 实现地图截图导出
  - _需求：8.2.5_

- [ ]* 46. 实现用户认证系统
  - 设计用户数据模型
  - 实现注册和登录 API
  - 实现 JWT 认证
  - 添加用户权限管理
  - _未来扩展_

- [ ]* 47. 实现查询历史保存
  - 设计查询历史数据模型
  - 实现历史记录保存 API
  - 实现历史记录查询和恢复
  - 添加历史记录管理界面
  - _未来扩展_
